<!DOCTYPE html>
<!--
Copyright 2013 Alexey Radul.

This file is part of DysVunctional Language.

DysVunctional Language is free software; you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

DysVunctional Language is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with DysVunctional Language.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Mandelbrot Demo</title>
    <script src="mandel.js"></script>
    <script src="mandel-driver.js"></script>
  </head>
  <style>
    #side {float: right; font-size: 250%;}
    button {font-size: 100%;}
    #timings td, #timings th {padding: 0 0.5em 0 0.5em;}
    h1 {font-size: 300%; margin-top: 0em; margin-bottom: 0em;}
    h2 {font-size: 200%; margin-top: 0em; font-weight: normal;}
    #it {border: 1px solid grey; margin: 0 auto;}
    #spinner {border: none; margin: 0px; padding: 4px; vertical-align:middle; display: none;}
  </style>
  <body>
    <center>
      <h1>Mandelbrot Set in Pure Javascript</h1>
      <h2>(generated by DVL)</h2>
    </center>
    <p>Instructions:</p>
    <ol>
      <li>Generate the Mandelbrot tester function from its DVL program with
<pre><code>(fol->asm.js
 (fol-optimize
  (compile-to-fol
   (dvl-source "examples/mandelbrot/mandel.dvl")))
 "examples/mandelbrot/mandel.js")</code></pre></li>
      <li>Reload this page.</li>
      <li>Then click "Go!".</li></ol>
    <center>
      <div id="side">
        <button onclick="doit()">Go!</button><img id="spinner" src="spinner.gif"> <br />
        <table id="timings"><tr><th>Resolution</th><th>Mflops</th><th>Time (ms)</th></table>
      </div>
      <canvas id="it" width="1000" height="1000"></canvas>
    </center>
  </body>
</html>
